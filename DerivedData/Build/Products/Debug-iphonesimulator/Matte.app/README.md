# Matte

高齢者向け詐欺防止iOSアプリケーション

## 概要

Matteは、高齢者を対象とした包括的な詐欺防止アプリです。AI機能を搭載し、通話、メール、ウェブサイトの安全性を自動的に分析し、ユーザーを保護します。

## 主な機能

### 🔒 セキュリティ機能
- **通話スクリーニング**: 危険な通話を自動的にブロック
- **メール警告**: 不審なメールを検出して警告
- **ウェブ安全確認**: 危険なウェブサイトを検出
- **ブラックリスト管理**: 不要な番号をブロック

### 🆘 緊急SOS機能
- **緊急SOS**: ワンタップで家族に緊急連絡
- **自動通話**: SOS発動時に自動で家族に電話
- **位置情報共有**: 緊急時に現在地を家族に共有
- **カスタムメッセージ**: 緊急メッセージをカスタマイズ
- **複数トリガー**: 電源ボタン、音量ボタン、振動、音声でSOS発動

### 👨‍👩‍👧‍👦 家族連携機能
- **家族メンバー管理**: 家族の登録と管理
- **リアルタイム位置共有**: 家族の現在地を確認
- **活動状況監視**: 家族の活動状況を把握
- **緊急連絡**: 家族への一斉連絡機能
- **保護者設定**: 緊急時に優先的に連絡する保護者を設定

### 🎤 音声アシスタント機能
- **音声コマンド**: 「セキュリティチェック」「緊急通話」などの音声操作
- **音声認識**: 日本語音声の高精度認識
- **音声読み上げ**: 警告や状況を音声で読み上げ
- **多言語対応**: 日本語、英語、中国語、韓国語に対応
- **音声テスト**: 音声機能のテスト機能

### 📊 統計・レポート機能
- **保護スコア**: セキュリティ状況を数値化
- **統計分析**: 日次・週次・月次・年次の統計
- **トレンド分析**: セキュリティ状況の変化をグラフ表示
- **達成度システム**: セキュリティ目標の達成度を表示
- **推奨事項**: セキュリティ改善のための推奨事項

### 🤖 AI機能
- **AIサポート**: 詐欺防止について質問に回答
- **AI分析**: 通話、メール、ウェブサイトの内容をAIが分析
- **リアルタイム分析**: 即座にリスク評価を提供

### 📚 教育機能
- **教育コンテンツ**: 詐欺手法について学習
- **安全対策**: 実践的なアドバイスを提供
- **緊急連絡先**: 緊急時の連絡先管理

### 🎨 アクセシビリティ機能
- **大きな文字**: 高齢者向けの大きなフォント
- **高コントラスト**: 視認性を向上させる高コントラスト表示
- **音声フィードバック**: 操作時の音声ガイド
- **振動フィードバック**: 重要な操作時の振動通知
- **ダークモード対応**: 目に優しいダークモード

## 開発情報

- **開発会社**: IGA Factory
- **連絡先**: igafactory2023@gmail.com
- **アプリ名**: Matte
- **バージョン**: 1.0.0
- **対応OS**: iOS 17.0以上

## AI機能の設定

### 1. Gemini APIキーの取得

1. [Google AI Studio](https://makersuite.google.com/app/apikey)にアクセス
2. Googleアカウントでログイン
3. 「Create API Key」をクリック
4. APIキーをコピー

### 2. Info.plistの設定

`Matte/Info.plist`ファイルを開き、以下の値を設定：

```xml
<key>GEMINI_API_KEY</key>
<string>YOUR_ACTUAL_API_KEY_HERE</string>
```

**注意**: `YOUR_ACTUAL_API_KEY_HERE`を実際のAPIキーに置き換えてください。

### 3. アプリの再ビルド

設定後、アプリを再ビルドしてAI機能を有効にしてください。

## 新機能の使用方法

### 緊急SOS機能
1. 「緊急SOS」タブをタップ
2. 大きな赤いボタンをタップしてSOS発動
3. 5秒のカウントダウン後に自動で家族に連絡
4. 設定でトリガー方法をカスタマイズ可能

### 家族連携機能
1. 「家族連携」タブをタップ
2. 「追加」ボタンで家族メンバーを登録
3. 位置情報共有の設定を行う
4. 家族の活動状況を確認

### 音声アシスタント機能
1. 「音声」タブをタップ
2. マイクボタンをタップして音声認識開始
3. 「セキュリティチェック」「緊急通話」などと話す
4. 音声コマンドでアプリを操作

### 統計・レポート機能
1. 「統計」タブをタップ
2. 期間を選択（今日・今週・今月・今年）
3. 保護スコアと統計を確認
4. 推奨事項を参考にセキュリティを改善

### AI機能
1. 「AIサポート」で質問に回答
2. 「AI分析」で通話・メール・ウェブサイトを分析
3. リアルタイムでリスク評価を提供

## アーキテクチャ

### 主要コンポーネント

```
Matte/
├── AIService.swift              # AIサービス（音声認識・分析）
├── Models.swift                 # データモデル
├── MainTabView.swift            # メインタブビュー
├── HomeScreen.swift             # ホーム画面
├── EmergencySOSScreen.swift     # 緊急SOS画面
├── FamilyConnectionScreen.swift # 家族連携画面
├── VoiceAssistantScreen.swift   # 音声アシスタント画面
├── StatisticsScreen.swift       # 統計・レポート画面
├── SettingsScreen.swift         # 設定画面
└── Info.plist                  # 設定ファイル
```

### サービス構造

- **AIService**: AI機能と音声認識の統合サービス
- **音声認識**: Speech Frameworkを使用した日本語音声認識
- **音声合成**: AVFoundationを使用した音声読み上げ
- **位置情報**: CoreLocationを使用した位置情報管理
- **統計分析**: セキュリティ状況の統計と分析

## セキュリティ考慮事項

### APIキーの保護
- APIキーはInfo.plistに保存
- 本番環境では適切な暗号化を検討
- APIキーの漏洩を防ぐため、バージョン管理システムにコミットしない

### プライバシー保護
- ユーザーデータはローカルに保存
- AI分析結果は一時的にのみ保持
- 個人情報の外部送信は最小限に抑制
- 位置情報は家族間でのみ共有
- 音声データは一時的にのみ処理

### 権限管理
- マイク権限: 音声アシスタント機能のため
- 位置情報権限: 緊急時と家族連携のため
- カメラ権限: QRコード招待のため
- 通知権限: 緊急時とセキュリティ警告のため

## トラブルシューティング

### AI機能が動作しない場合

1. **APIキーの確認**
   - Info.plistに正しいAPIキーが設定されているか確認
   - APIキーが有効かどうか確認

2. **ネットワーク接続**
   - インターネット接続を確認
   - ファイアウォールの設定を確認

3. **エラーメッセージの確認**
   - アプリ内のエラーメッセージを確認
   - コンソールログを確認

### 音声アシスタントが動作しない場合

1. **権限の確認**
   - マイク権限が許可されているか確認
   - 音声認識権限が許可されているか確認

2. **音声認識の設定**
   - 言語設定が正しいか確認
   - 音声認識の精度を向上させるため、静かな環境で使用

### 位置情報が取得できない場合

1. **位置情報権限の確認**
   - 位置情報権限が許可されているか確認
   - 設定アプリで位置情報サービスが有効か確認

2. **GPS設定**
   - 高精度な位置情報のため、GPSを有効にする

### 家族連携が動作しない場合

1. **ネットワーク接続**
   - インターネット接続を確認
   - 家族メンバーがオンラインか確認

2. **設定の確認**
   - 家族連携機能が有効になっているか確認
   - 家族メンバーが正しく登録されているか確認

### よくあるエラー

- **APIキーが設定されていません**: Info.plistの設定を確認
- **API呼び出しでエラーが発生しました**: ネットワーク接続とAPIキーの有効性を確認
- **無効なレスポンスが返されました**: APIの応答形式を確認
- **音声認識ができません**: マイク権限と音声認識権限を確認
- **位置情報が取得できません**: 位置情報権限を確認

## 開発環境

- **Xcode**: 15.0以上
- **iOS**: 17.0以上
- **Swift**: 5.9以上
- **SwiftUI**: 最新版

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## サポート

技術的な問題や質問がある場合は、開発チームまでお問い合わせください。

**連絡先**: igafactory2023@gmail.com

---

**注意**: このアプリは教育・研究目的で開発されています。実際の詐欺防止には、専門的なセキュリティソリューションの使用を推奨します。 